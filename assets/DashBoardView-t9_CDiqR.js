import{a as c}from"./axios-L6U4YIEh.js";import{_ as v,c as k,d as e,a as r,w as i,g as m,h as g,i as b,r as l,o as d,b as h}from"./index-CpkCOYWf.js";const f={data(){return{checkSuccess:!1,token:""}},mounted(){this.checkLogin()},methods:{checkLogin(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");s?(c.defaults.headers.common.Authorization=`${s}`,c.post("https://vue3-course-api.hexschool.io/v2/api/user/check",{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(o=>{alert(o.response.data.message),this.$router.push("/login")})):(alert("您尚未登入。"),this.$router.push("/login"))},signOut(){document.cookie="hexToken=;expires=;",alert("token 已清除"),this.$router.push("/login")}}},x={class:"containBox"},$=e("h1",null,"這是後台頁",-1),C={class:"navbar navbar-expand-lg bg-body-tertiary"},N={class:"container-fluid"},V=e("a",{class:"navbar-brand",href:"#"},"Home",-1),w=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),B={class:"collapse navbar-collapse",id:"navbarNav"},y={class:"navbar-nav"},L={class:"nav-item"},O={class:"nav-item"},R={class:"nav-item"};function T(s,t,o,S,u,a){const n=l("RouterLink"),_=l("RouterView");return d(),k("div",x,[$,e("nav",C,[e("div",N,[V,w,e("div",B,[e("ul",y,[e("li",L,[r(n,{class:"nav-link",to:"/admin/productsControl"},{default:i(()=>[h("Products Control Panel")]),_:1})]),e("li",O,[r(n,{class:"nav-link",to:"/admin/ordersControl"},{default:i(()=>[h("Orders Control")]),_:1})]),e("li",R,[e("a",{href:"#",class:"nav-link",onClick:t[0]||(t[0]=m((...p)=>a.signOut&&a.signOut(...p),["prevent"]))},"登出")])])])])]),u.checkSuccess?(d(),g(_,{key:0})):b("",!0)])}const A=v(f,[["render",T]]);export{A as default};
